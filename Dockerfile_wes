FROM ubuntu
MAINTAINER Levi Mangarin <markmangarin@gmail.com>

# Install all the software needed to run the pipeline
RUN apt-get -qq update
RUN apt-get install -y wget git tabix vcftools
RUN apt-get install -qqy python3-setuptools python3-docutils python3-flask
RUN easy_install3 snakemake


# clone the most recent version of the pipeline
WORKDIR /home/user/
#RUN git clone https://github.com/dalloliogm/pipeline_play.git

## download the input files
#WORKDIR /home/user/pipeline_play
#RUN tabix -h ftp://ftp.1000genomes.ebi.ac.uk/vol1/ftp/release/20130502/ALL.chr22.phase3_shapeit2_mvncall_integrated_v5a.20130502.genotypes.vcf.gz 22:23862589-25055718 > myregion.vcf
#

# Execute the pipeline
RUN snakemake

#   ▾ programs/
#     ▸ annovar/
#     ▸ bcftools-1.3/
#     ▸ bedtools2/
#     ▸ bwa/
#     ▸ Cbc-2.9.8/
#     ▸ FastQC/
#     ▸ gatk/
#     ▸ glpk-4.60/
#     ▸ htsjdk-2.0.1/
#     ▸ IGV_2.3.77/
#     ▸ kallisto_linux-v0.43.0/
#     ▸ localpython/
#     ▸ miniconda3/
#     ▸ muTect-1.1.4/
#     ▸ netMHCpan-3.0/
#     ▸ OptiType/
#     ▸ picard-tools-2.2.1/
#     ▸ Python-2.7.2/
#     ▸ python-3.5.0/
#     ▸ python3/
#     ▸ razers3-3.5.3-Linux-x86_64/
#     ▸ RSEM-1.2.29/
#     ▸ samtools-1.3.1/
#     ▸ snpEff-3.0/
#     ▸ snpEff-3.2/
#     ▸ snpEff-3.4/
#     ▸ snpEff-3.5/
#     ▸ snpEff-3.6/
#     ▸ snpEff-4.2/
#     ▸ somatic-sniper/
#     ▸ STAR-2.5.1b/
#     ▸ strelka_workflow-1.0.14/
#     ▸ subread-1.5.0-p1/
#     �� vcf2maf-1.1.0/
#     ▸ vcf2maf/
#     ▸ venv/
#     ▸ virtualenv-1.5.2/
#       cluster_settings
#       glpk-4.60.tar.gz
#       kallisto_linux-v0.43.0.tar.gz
#       Miniconda3-latest-Linux-x86_64.sh
#       netMHCpan-3.0a.Linux.tar.gz
#       optitype_preprocess_with_razers3.rb*
#       Python-2.7.2.tgz
#       samtools-1.3.1.tar.bz2
#       strelka_workflow-1.0.14.tar
#       v1.1.0.zip
#       v1.2.29.tar.gz
#       virtualenv-1.5.2.tar.gz
#  
#  
